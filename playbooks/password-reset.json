{
  "metadata": {
    "id": "password-reset-v1",
    "name": "Password Reset Troubleshooting",
    "description": "Guide customers through password reset and account recovery",
    "version": "1.0.0",
    "product": "General",
    "category": "account",
    "language": "en",
    "tags": ["password", "login", "account", "reset", "forgot"]
  },
  "triggers": {
    "keywords": ["password", "forgot", "reset", "can't login", "locked out", "account access"],
    "categories": ["account", "authentication"],
    "products": ["General"],
    "severity": ["low", "medium"]
  },
  "steps": [
    {
      "id": "identify_issue",
      "title": "Identify the Issue",
      "instruction": "Ask the customer to confirm they need to reset their password. Verify if they're trying to log into the web app, mobile app, or API.",
      "expectedOutcome": "Customer confirms which platform and that they need password reset",
      "nextOnSuccess": "check_email",
      "nextOnFailure": "clarify_issue",
      "maxAttempts": 2
    },
    {
      "id": "clarify_issue",
      "title": "Clarify the Issue",
      "instruction": "Ask the customer to describe exactly what happens when they try to log in. Do they see an error message? Is the page loading?",
      "expectedOutcome": "Customer provides more details about their issue",
      "nextOnSuccess": "identify_issue",
      "escalateOnFailure": true,
      "maxAttempts": 1
    },
    {
      "id": "check_email",
      "title": "Verify Email Access",
      "instruction": "Confirm the customer has access to the email address associated with their account. Ask them to check if they can receive emails at that address.",
      "expectedOutcome": "Customer confirms email access",
      "nextOnSuccess": "send_reset",
      "nextOnFailure": "alternate_recovery",
      "maxAttempts": 1
    },
    {
      "id": "send_reset",
      "title": "Send Password Reset Link",
      "instruction": "Guide the customer to click 'Forgot Password' on the login page. They should enter their email address and click 'Send Reset Link'. Ask them to check their inbox and spam folder.",
      "expectedOutcome": "Customer receives the reset email",
      "nextOnSuccess": "complete_reset",
      "nextOnFailure": "check_spam",
      "maxAttempts": 2
    },
    {
      "id": "check_spam",
      "title": "Check Spam Folder",
      "instruction": "Ask the customer to check their spam/junk folder for the reset email. The email comes from noreply@techsupport.ai. If not there, wait 5 minutes and try again.",
      "expectedOutcome": "Customer finds the email in spam",
      "failureHint": "Email not received - may need to verify email address or check for typos",
      "nextOnSuccess": "complete_reset",
      "nextOnFailure": "alternate_recovery",
      "maxAttempts": 2
    },
    {
      "id": "alternate_recovery",
      "title": "Alternative Recovery Options",
      "instruction": "Since email recovery isn't working, offer alternative options: 1) Verify they're using the correct email, 2) Check if they have a backup email, 3) Escalate to L2 for manual verification.",
      "expectedOutcome": "Customer chooses an alternative recovery method",
      "nextOnSuccess": "check_email",
      "escalateOnFailure": true,
      "maxAttempts": 2
    },
    {
      "id": "complete_reset",
      "title": "Complete Password Reset",
      "instruction": "Guide the customer to click the link in the email, enter a new password (must be at least 8 characters with one number and one special character), and confirm. Then try logging in with the new password.",
      "expectedOutcome": "Customer successfully resets password and logs in",
      "failureHint": "Password requirements not met or link expired",
      "nextOnSuccess": "verify_success",
      "nextOnFailure": "send_reset",
      "maxAttempts": 3
    },
    {
      "id": "verify_success",
      "title": "Verify Successful Login",
      "instruction": "Confirm the customer can now log into their account. Ask if they need help with anything else.",
      "expectedOutcome": "Customer confirms successful login",
      "escalateOnFailure": true,
      "maxAttempts": 1
    }
  ],
  "escalation": {
    "defaultMessage": "I'll connect you with a specialist who can help with your account recovery.",
    "conditions": [
      {
        "reason": "email_not_received",
        "message": "Since you're not receiving our emails, I'll connect you with a specialist who can verify your account through alternative methods."
      },
      {
        "reason": "multiple_failures",
        "message": "I understand this has been frustrating. Let me connect you with a specialist who can resolve this quickly."
      }
    ]
  }
}
